# ğŸ¨ VISUAL ARCHITECTURE REFERENCE
## Intelligent Inventory Management System - Diagram Guide

---

## SYSTEM FLOW DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           INTELLIGENT INVENTORY MANAGEMENT SYSTEM              â”‚
â”‚                                                                 â”‚
â”‚  INPUT SOURCES              ORCHESTRATION LAYER                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•                â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                 â”‚
â”‚                                                                 â”‚
â”‚  SQLite (Inventory)          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  LangGraph Flow  â”‚              â”‚
â”‚            â”‚        â”‚        â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚              â”‚
â”‚  CSV       â”‚        â”‚   â”Œâ”€â”€â”€â†’â”‚                  â”‚              â”‚
â”‚  (Demand)  â”‚        â”‚   â”‚    â”‚  STATE           â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜        â”‚   â”‚    â”‚  â”€â”€â”€â”€â”€           â”‚              â”‚
â”‚        â”‚            â”‚   â”‚    â”‚ {                â”‚              â”‚
â”‚        â”‚      â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”˜    â”‚  trigger,        â”‚              â”‚
â”‚        â”‚      â”‚              â”‚  demand,         â”‚              â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â†’ TRIGGER       â”‚  decision,       â”‚              â”‚
â”‚               â–² DETECTION    â”‚  action,         â”‚              â”‚
â”‚               â”‚               â”‚  status          â”‚              â”‚
â”‚               â”‚ Every 5 min   â”‚ }                â”‚              â”‚
â”‚               â”‚               â”‚                  â”‚              â”‚
â”‚               â”‚ Condition:    â”‚  NODES:          â”‚              â”‚
â”‚               â”‚ stock <       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚              â”‚
â”‚               â”‚ safety_level  â”‚  â”‚ 1. Trigger   â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚    â†“         â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚ 2. Retrieve  â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚    â†“         â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚ 3. Reason    â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚    â†“         â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚ 4. Generate  â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚    â†“         â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚ 5. Approve   â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚    â†“         â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â”‚ 6. Execute   â”‚â”‚              â”‚
â”‚               â”‚               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚              â”‚
â”‚               â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚               â”‚                    â”‚                           â”‚
â”‚               â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚                           â”‚
â”‚               â”‚ â”‚   AI Reasoning  â”‚â”‚                           â”‚
â”‚               â”‚ â”‚   (Gemini LLM)  â”‚â”‚                           â”‚
â”‚               â”‚ â”‚                 â”‚â”‚                           â”‚
â”‚               â”‚ â”‚ "Should we      â”‚â”‚                           â”‚
â”‚               â”‚ â”‚  RESTOCK or     â”‚â”‚                           â”‚
â”‚               â”‚ â”‚  TRANSFER?"     â”‚â”‚                           â”‚
â”‚               â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚                           â”‚
â”‚               â”‚                    â”‚                           â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                 â”‚
â”‚  OUTPUT LAYER                                                   â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•                                                   â”‚
â”‚                                                                 â”‚
â”‚  HIGH CONFIDENCE (>0.85)                                        â”‚
â”‚  â””â”€â†’ AUTO-EXECUTE â”€â†’ [PO or Transfer Order] â”€â†’ Supplier/WH    â”‚
â”‚                          â†“                                      â”‚
â”‚                      [Audit Log]                                â”‚
â”‚                          â†“                                      â”‚
â”‚                      [ERP System]                               â”‚
â”‚                                                                 â”‚
â”‚  MEDIUM CONFIDENCE (0.7-0.85)                                   â”‚
â”‚  â””â”€â†’ WEBHOOK â”€â†’ [Manager Dashboard] â”€â†’ Human Approval          â”‚
â”‚       â†“           â†“                                             â”‚
â”‚    [Email]    [Slack]                                           â”‚
â”‚                                                                 â”‚
â”‚  LOW CONFIDENCE (<0.7)                                          â”‚
â”‚  â””â”€â†’ REJECT â”€â†’ [Alert] â”€â†’ Requires Investigation              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## COMPONENT INTERACTION DIAGRAM

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   FastAPI Server            â”‚
                    â”‚   (main.py)                 â”‚
                    â”‚                             â”‚
                    â”‚  @app.post("/inventory-    â”‚
                    â”‚   trigger")                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                           â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ LangGraph Workflow        â”‚
          â”‚         â”‚ (Compiled Graph)          â”‚
          â”‚         â”‚                           â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚                   â”‚
    â”‚ Trigger â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Event   â”‚      â”‚                         â”‚
    â”‚         â”‚      â”‚  DataRetrievalAgent     â”‚
    â”‚ {       â”‚      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
    â”‚  productâ”‚      â”‚                         â”‚
    â”‚  _id    â”‚      â”‚  Methods:               â”‚
    â”‚  stock  â”‚      â”‚  â€¢ load_forecast()     â”‚
    â”‚  }      â”‚      â”‚  â€¢ cache_results()     â”‚
    â”‚         â”‚      â”‚                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  Returns:               â”‚
                     â”‚  DemandAnalysis         â”‚
                     â”‚  {                      â”‚
                     â”‚    trend,               â”‚
                     â”‚    forecast,            â”‚
                     â”‚    confidence           â”‚
                     â”‚  }                      â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                         â”‚
                     â”‚  ReasoningAgent (LLM)   â”‚
                     â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
                     â”‚                         â”‚
                     â”‚  Model: Gemini Flash    â”‚
                     â”‚                         â”‚
                     â”‚  Prompt:                â”‚
                     â”‚  --------               â”‚
                     â”‚  "Given demand +        â”‚
                     â”‚   inventory +           â”‚
                     â”‚   capacity,             â”‚
                     â”‚   decide: RESTOCK       â”‚
                     â”‚   or TRANSFER?"         â”‚
                     â”‚                         â”‚
                     â”‚  Returns:               â”‚
                     â”‚  Decision {             â”‚
                     â”‚    action,              â”‚
                     â”‚    confidence,          â”‚
                     â”‚    reasoning            â”‚
                     â”‚  }                      â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                         â”‚
                     â”‚  ActionAgent            â”‚
                     â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
                     â”‚                         â”‚
                     â”‚  If RESTOCK:            â”‚
                     â”‚  â””â”€ Create PO JSON     â”‚
                     â”‚     {supplier,          â”‚
                     â”‚      quantity,          â”‚
                     â”‚      delivery_date}     â”‚
                     â”‚                         â”‚
                     â”‚  If TRANSFER:           â”‚
                     â”‚  â””â”€ Create Transfer    â”‚
                     â”‚     {source_wh,         â”‚
                     â”‚      dest_wh,           â”‚
                     â”‚      quantity}          â”‚
                     â”‚                         â”‚
                     â”‚  Returns:               â”‚
                     â”‚  ActionPayload          â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                            â”‚
                     â”‚  Approval Gate             â”‚
                     â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
                     â”‚                            â”‚
                     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                     â”‚  â”‚ Confidence > 0.85    â”‚ â”‚
                     â”‚  â”‚ â””â”€â†’ AUTO-EXECUTE    â”‚ â”‚
                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                     â”‚  â”‚ 0.7 < Conf < 0.85   â”‚ â”‚
                     â”‚  â”‚ â””â”€â†’ PENDING (webhook)â”‚ â”‚
                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                     â”‚  â”‚ Confidence < 0.7    â”‚ â”‚
                     â”‚  â”‚ â””â”€â†’ REJECT (alert)  â”‚ â”‚
                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                     â”‚                            â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                         â”‚
                     â”‚  Execute Node           â”‚
                     â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
                     â”‚                         â”‚
                     â”‚  â€¢ Send PO to Supplier  â”‚
                     â”‚  â€¢ Trigger Transfer     â”‚
                     â”‚  â€¢ Update ERP           â”‚
                     â”‚  â€¢ Log Audit Trail      â”‚
                     â”‚                         â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                         â”‚
                     â”‚  Response to API        â”‚
                     â”‚                         â”‚
                     â”‚  {                      â”‚
                     â”‚    status: "executed",  â”‚
                     â”‚    action: "restock",   â”‚
                     â”‚    confidence: 0.92,    â”‚
                     â”‚    payload: {...}       â”‚
                     â”‚  }                      â”‚
                     â”‚                         â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## DATA FLOW DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQLite         â”‚ Rows: [product_id, warehouse_id, stock, safety_level]
â”‚  Inventory DB   â”‚ Example: ["STEEL_001", "WH_BLR", 150, 300]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Query: SELECT * WHERE stock < safety_level
         â”‚ Frequency: Every 5 minutes
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Poll every 5m  â”‚ Finds items below threshold
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Trigger event created
             â”‚
             â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  FastAPI     â”‚
      â”‚  /inventory- â”‚ Receives trigger
      â”‚   trigger    â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ InventoryTrigger object
             â”‚ {
             â”‚   product_id: "STEEL_001",
             â”‚   current_stock: 150,
             â”‚   safety_stock: 300
             â”‚ }
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  CSV: demand_forecast.csv        â”‚
    â”‚                                  â”‚
    â”‚  Headers: date, product_id, qty  â”‚
    â”‚  Rows:                           â”‚
    â”‚  2025-02-01, STEEL_001, 50       â”‚
    â”‚  2025-02-02, STEEL_001, 55       â”‚
    â”‚  2025-02-03, STEEL_001, 48       â”‚
    â”‚  ...                             â”‚
    â”‚                                  â”‚
    â”‚  In-Memory Cache:                â”‚
    â”‚  TTL: 1 hour                     â”‚
    â”‚  Content:                        â”‚
    â”‚  {                               â”‚
    â”‚    STEEL_001: {                  â”‚
    â”‚      avg_daily_demand: 51.2,     â”‚
    â”‚      trend: "stable",            â”‚
    â”‚      forecast_30d: 1536          â”‚
    â”‚    }                             â”‚
    â”‚  }                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ DemandAnalysis output
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  LLM Prompt (Gemini Flash)   â”‚
    â”‚                              â”‚
    â”‚  Context injection:          â”‚
    â”‚  â€¢ Current stock: 150        â”‚
    â”‚  â€¢ Daily demand: 51.2        â”‚
    â”‚  â€¢ Trend: stable             â”‚
    â”‚  â€¢ Days of stock: 2.9        â”‚
    â”‚  â€¢ 30-day forecast: 1536     â”‚
    â”‚                              â”‚
    â”‚  Question:                   â”‚
    â”‚  "RESTOCK or TRANSFER?"      â”‚
    â”‚                              â”‚
    â”‚  System instructions:        â”‚
    â”‚  "You are a supply chain     â”‚
    â”‚   expert analyzing           â”‚
    â”‚   inventory shortage..."     â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ LLM Response (JSON)
           â”‚ {
           â”‚   "action": "restock",
           â”‚   "confidence": 0.92,
           â”‚   "reasoning": "Demand stable,
           â”‚    current stock only covers
           â”‚    3 days, need buffer"
           â”‚ }
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Decision â†’ Action Mapping    â”‚
    â”‚                               â”‚
    â”‚  Action: RESTOCK              â”‚
    â”‚  â”œâ”€ Supplier: SUPPLIER_001    â”‚
    â”‚  â”œâ”€ Quantity: 2000 units      â”‚
    â”‚  â”‚  (calculated from forecast)â”‚
    â”‚  â”œâ”€ Delivery: 2025-02-06      â”‚
    â”‚  â”‚  (2 days, priority: HIGH)  â”‚
    â”‚  â”œâ”€ Cost: 20,000              â”‚
    â”‚  â”‚  (2000 * $10/unit)         â”‚
    â”‚  â””â”€ Confidence: 0.92          â”‚
    â”‚                               â”‚
    â”‚  OR                           â”‚
    â”‚                               â”‚
    â”‚  Action: TRANSFER             â”‚
    â”‚  â”œâ”€ From: WH_MUMBAI           â”‚
    â”‚  â”œâ”€ To: WH_BANGALORE          â”‚
    â”‚  â”œâ”€ Quantity: 500 units       â”‚
    â”‚  â”œâ”€ Priority: MEDIUM          â”‚
    â”‚  â”œâ”€ Cost: 1,000               â”‚
    â”‚  â”‚  (500 * $2/unit)           â”‚
    â”‚  â””â”€ Confidence: 0.75          â”‚
    â”‚                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Confidence-based routing
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Approval Decision:         â”‚
    â”‚                             â”‚
    â”‚  if confidence > 0.85:      â”‚
    â”‚  â””â”€â†’ AUTO-EXECUTE           â”‚
    â”‚                             â”‚
    â”‚  if 0.7 < conf < 0.85:      â”‚
    â”‚  â””â”€â†’ SEND WEBHOOK           â”‚
    â”‚      POST /manager/approve  â”‚
    â”‚      + Send Email + Slack   â”‚
    â”‚                             â”‚
    â”‚  if confidence < 0.7:       â”‚
    â”‚  â””â”€â†’ REJECT + ALERT         â”‚
    â”‚      "Low confidence"       â”‚
    â”‚      "Manual review needed" â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Execute or wait for approval
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Execution:                 â”‚
    â”‚                             â”‚
    â”‚  If RESTOCK:                â”‚
    â”‚  â””â”€â†’ API Call â†’ Supplier    â”‚
    â”‚      Response: PO# created  â”‚
    â”‚                             â”‚
    â”‚  If TRANSFER:               â”‚
    â”‚  â””â”€â†’ Warehouse System       â”‚
    â”‚      Response: Transfer OK  â”‚
    â”‚                             â”‚
    â”‚  UPDATE:                    â”‚
    â”‚  â””â”€â†’ Audit Log              â”‚
    â”‚      {                      â”‚
    â”‚        decision_id: xyz,    â”‚
    â”‚        timestamp: NOW,      â”‚
    â”‚        action: EXECUTED,    â”‚
    â”‚        result: SUCCESS      â”‚
    â”‚      }                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## STATE MACHINE DIAGRAM

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   START      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ TRIGGERED            â”‚
                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
                    â”‚ Inventory event      â”‚
                    â”‚ received and queued  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ ANALYZING            â”‚
                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
                    â”‚ â€¢ Loading CSV        â”‚
                    â”‚ â€¢ Computing trends   â”‚
                    â”‚ â€¢ Preparing context  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                   â”‚
         â–¼ Data error                        â–¼ Data OK
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ REJECTED    â”‚                   â”‚ REASONING        â”‚
    â”‚ (Data fail) â”‚                   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â€¢ Calling LLM   â”‚
          â”‚                           â”‚ â€¢ Parsing JSON  â”‚
          â”‚                           â”‚ â€¢ Confidence    â”‚
          â”‚                           â”‚   scoring       â”‚
          â”‚                           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                â”‚
          â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                  â”‚                           â”‚
          â”‚                  â–¼ LLM Error               â–¼ LLM OK
          â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚          â”‚ REJECTED         â”‚      â”‚ DECIDED         â”‚
          â”‚          â”‚ (Reasoning fail) â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
          â”‚          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ Action chosen: â”‚
          â”‚               â”‚                    â”‚ RESTOCK or     â”‚
          â”‚               â”‚                    â”‚ TRANSFER       â”‚
          â”‚               â”‚                    â”‚ Confidence: %  â”‚
          â”‚               â”‚                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚               â”‚                         â”‚
          â”‚               â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚               â”‚         â”‚               â”‚               â”‚
          â”‚               â”‚         â–¼ High (>0.85) â–¼ Med (0.7-0.85) â–¼ Low (<0.7)
          â”‚               â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚               â”‚    â”‚ AUTO-EXE â”‚  â”‚ PENDING-APR  â”‚  â”‚ REJECTED â”‚
          â”‚               â”‚    â”‚CUTE (E1) â”‚  â”‚OVAL (E2)     â”‚  â”‚ (E3)     â”‚
          â”‚               â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚               â”‚         â”‚               â”‚               â”‚
          â”‚               â”‚         â”‚ Exec          â”‚ Manager       â”‚ Alert
          â”‚               â”‚         â”‚ immediately  â”‚ webhook sent  â”‚ triggered
          â”‚               â”‚         â”‚               â”‚               â”‚
          â”‚               â”‚         â–¼               â–¼               â–¼
          â”‚               â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚               â”‚    â”‚EXECUTING â”‚  â”‚ WAITING-APP  â”‚  â”‚ ALERTING â”‚
          â”‚               â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚(human review)â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚               â”‚         â”‚        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
          â”‚               â”‚         â”‚               â”‚               â”‚
          â”‚               â”‚         â”‚ Exec OK       â”‚ Manager       â”‚ (stays
          â”‚               â”‚         â”‚               â”‚ approves      â”‚  here)
          â”‚               â”‚         â”‚               â–¼               â”‚
          â”‚               â”‚         â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
          â”‚               â”‚         â”‚          â”‚ EXECUTINGâ”‚         â”‚
          â”‚               â”‚         â”‚          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚
          â”‚               â”‚         â”‚               â”‚               â”‚
          â”‚               â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
          â”‚               â”‚                 â”‚                       â”‚
          â”‚               â”‚                 â–¼ Exec OK              â”‚
          â”‚               â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
          â”‚               â”‚            â”‚ EXECUTED    â”‚             â”‚
          â”‚               â”‚            â”‚ (Success)   â”‚             â”‚
          â”‚               â”‚            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
          â”‚               â”‚                   â”‚                    â”‚
          â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
          â”‚                           â”‚                            â”‚
          â”‚                           â”‚ (all paths)                â”‚
          â”‚                           â”‚                            â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ LOG & AUDIT  â”‚
                              â”‚ Decision in  â”‚
                              â”‚ database     â”‚
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ END          â”‚
                              â”‚ (Ready for   â”‚
                              â”‚  next triggerâ”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## CONFIDENCE SCORING DECISION TREE

```
                     DECISION POINT
                            â”‚
                  Confidence Score?
                    (0.0 - 1.0)
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚           â”‚           â”‚
            Low         Medium       High
          < 0.7        0.7-0.85     > 0.85
            â”‚           â”‚           â”‚
            â–¼           â–¼           â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Flag â”‚    â”‚ Notify   â”‚  â”‚  Auto    â”‚
       â”‚Error â”‚    â”‚ Manager  â”‚  â”‚ Execute  â”‚
       â””â”€â”€â”¬â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚             â”‚             â”‚
          â–¼             â–¼             â–¼
     Requires      Manager        Immediate
     Human         Review &       Execution
     Investigation Approval      (Log Only)
          â”‚             â”‚             â”‚
          â”‚             â”‚ Approve â”€â”€â”€â”€â”˜
          â”‚             â”‚             â”‚
          â”‚             â”‚ Reject      â”‚
          â”‚             â”‚ (escalate)  â”‚
          â”‚             â”‚             â”‚
          â–¼             â–¼             â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚      EXECUTION LAYER           â”‚
     â”‚                                â”‚
     â”‚ â€¢ Send to Supplier (PO)        â”‚
     â”‚ â€¢ Trigger Warehouse Transfer   â”‚
     â”‚ â€¢ Update ERP/Inventory         â”‚
     â”‚ â€¢ Log Decision to Audit Trail  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## MULTI-WAREHOUSE SCENARIO (Phase 2)

```
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚    Warehouse Coordinator Agent  â”‚
      â”‚    (Future: Phase 2)            â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚           â”‚           â”‚
     â–¼           â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚WH Delhi â”‚ â”‚WH Mumbaiâ”‚ â”‚WH Bngaloâ”‚
â”‚(Trigger)â”‚ â”‚         â”‚ â”‚         â”‚
â”‚         â”‚ â”‚         â”‚ â”‚         â”‚
â”‚Stock:100â”‚ â”‚Stock:500â”‚ â”‚Stock:200â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ Low stock detected
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Coordinator Decision Logic:      â”‚
â”‚                                  â”‚
â”‚ Option A: RESTOCK                â”‚
â”‚ â””â”€ Lead time: 5 days             â”‚
â”‚    Cost: $10/unit                â”‚
â”‚                                  â”‚
â”‚ Option B: TRANSFER from Mumbai   â”‚
â”‚ â””â”€ Lead time: 1 day              â”‚
â”‚    Cost: $2/unit                 â”‚
â”‚                                  â”‚
â”‚ Option C: TRANSFER from Bngalo   â”‚
â”‚ â””â”€ Lead time: 2 days             â”‚
â”‚    Cost: $1.50/unit              â”‚
â”‚                                  â”‚
â”‚ CHOICE: Option B (Mumbai)        â”‚
â”‚ Reason: Fastest, cheapest, stock â”‚
â”‚         available                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Execute Trans â”‚
    â”‚fer Order:   â”‚
    â”‚Mumbai â†’ Delhiâ”‚
    â”‚Qty: 200      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Visual Reference Complete. Use these diagrams in your team presentations! ğŸ“Š**